<h3 style="padding-top: 10px;">Search for quotes by category</h3>
<%= form_tag search_path, method: :get do %>
    <div class="form-group" style="padding-bottom: 10px;">
        <%= text_field_tag :category_query, params[:category_query], placeholder: 'Search for category', class: "form-control" %>
    </div>
<%= submit_tag 'Search Categories', class: "btn btn-primary" %>
<% end %>

<% if params[:category_query].present? %>
    <% if @categorymatch.present? %>
        <h4 style="padding-top:15px;">Results:</h4>
            <!-- Cycle through each category returned and print category name and quote and link to view -->
            <% @categorymatch.each do |cm| %>
                <div class="card bg-body-tertiary" style="margin-bottom:10px">
                <div class="card-body">
                    <h4 class="card-title"><%= cm.quote.quote_text %></h4>
                    <p class="card-text"><a href="/philosophers/<%=cm.quote.philosopher_id%>"><%= "#{cm.quote.philosopher.fname} #{cm.quote.philosopher.lname}" %></a></p>
                </div>
                </div>
            <% end %>              
            <br />
    <% else %>
            <p>No matching categories found</p>
    <% end %>
<% end %>